<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do List</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.0/css/bulma.min.css">
</head>
<body>
    <div class="container pt-6">
        <div class="columns">
            <div class="column is-half is-offset-one-quarter">    
            <h1 class="title is-1 has-background-success-85 mb-6 has-text-centered">My to do list</h1>
                
                <input class="input is-primary mb-3" type="text" placeholder="Enter task"/>
                
                <div class="buttons mt-6 is-justify-content-center">
                    <button class="button is-success">Add task</button>
                </div>

                <div id="tasks">
                    <!-- Generated by JS -->
                </div>
            </div>
        </div>
    </div>    

    <script>
        const tasks = [
            {name: "shalaa ugaah", status: "done"},
            {name: "hogoo shuurdeh", status: "done"}, 
            {name: "toosoo archih", status: "todo"},
        ];

        function deleteTask(position) {
            if (confirm ("Are you sure to delete")) {
                tasks.splice(position, 1);
                render();
            }
        }

        function editTask (position) {
            const oldvalue = tasks[position].name;
            const newvalue = prompt("Edit task", oldvalue);
            if (newvalue !== null) {
                tasks[position].name = newvalue;
            }
        
        render ();
        }

        function render () {
            let tasksHtml = "";
            for (let i = 0; i < tasks.length; i++){
                const oneTask = `
                                    <div class="card">
                                        <div class="card-content">
                                            <div class="is-flex is-align-items-center is-justify-content-space-between">
                                                    <input type="checkbox" class="checkbox" ${tasks[i].status === "done" ? "checked" : ""}/>
                                                    <div>${tasks[i].name}</div>
                                                <div class ="buttons">
                                                    <button class="button is-small is-danger is-outlined" onclick="deleteTask(${i});">Delete</button>
                                                    <button class="button is-small" onclick="editTask(${i});">Edit</button>
                                                </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                `;
                tasksHtml +=oneTask;
            }
            document.getElementById("tasks").innerHTML = tasksHtml;
        }
        render();

    </script>

</body>
</html>